const data = [
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
  {
    order: "PHW3",
    date: "11 April, 2014",
    amount: "$250",
    status: "Pending",
    activity: [
      `24/11/15 07:36AM Account charged $707.50`,
      `24/11/15 07:55AM Order submitted`,
    ],
    task: "Task 4",
  },
];

document.addEventListener("DOMContentLoaded", function () {
  let currentPage = 1;
  const rowsPerPage = 12;
  function renderTable() {
    const tableBody = document.getElementById("table-body");
    tableBody.innerHTML = "";

    const start = (currentPage - 1) * rowsPerPage;
    const end = currentPage * rowsPerPage;
    const pageData = data.slice(start, end);

    pageData.forEach((item) => {
      const row = document.createElement("tr");
      // Function to update row style based on screen size
      function updateRowStyle() {
        if (window.innerWidth < 1200) {
          row.classList.add("d-flex", "flex-column");
          row.classList.remove("d-table-row");
        } else {
          row.classList.remove("d-flex", "flex-column");
          // row.classList.add("d-table-row", "");
        }
      }

      row.innerHTML = `
            <td class="" ><span class="responsive-lable d-xl-none">Order</span>${
              item.order
            }</td>
          <td class="" ><span class="responsive-lable d-xl-none">Date</span>${
            item.date
          }</td>
          <td class="" ><span class="responsive-lable d-xl-none">Amount</span>${
            item.amount
          }</td>
          <td class="" ><span class="responsive-lable d-xl-none">Status</span>${
            item.status
          }</td>
          <td class="tabel-data-activity" >
          <span class="responsive-lable d-xl-none">Activity</span>
            <p class="table-content">${
              Array.isArray(item.activity) ? item.activity[0] : item.activity
            }</p>
            <p class="table-content">${
              Array.isArray(item.activity) && item.activity[1]
                ? item.activity[1]
                : ""
            }</p>
          </td>
          <td class="tabel-data" >
            <a href="/order.html" class="task-btn">View Order</a>
          </td>
          `;
      tableBody.appendChild(row);
      updateRowStyle();

      // Update styles dynamically when resizing
      window.addEventListener("resize", updateRowStyle);
    });

    renderPagination();

    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  function renderPagination() {
    const totalPages = Math.ceil(data.length / rowsPerPage);
    const pageNumbers = document.getElementById("page-numbers");
    pageNumbers.innerHTML = "";

    const createPageNumber = (page) => {
      const pageNumber = document.createElement("span");
      pageNumber.classList.add("page-number");
      pageNumber.textContent = page;
      pageNumber.style.cursor = "pointer";
      pageNumber.style.margin = "0 5px";
      pageNumber.style.borderRadius = "5px";

      if (page === currentPage) {
        pageNumber.style.backgroundColor = "#CED4D4";
        pageNumber.style.color = "#0A2926";
      }

      pageNumber.onclick = () => {
        currentPage = page;
        renderTable();
      };
      return pageNumber;
    };

    if (totalPages <= 5) {
      // Show all numbers if total pages <= 5
      for (let i = 1; i <= totalPages; i++) {
        pageNumbers.appendChild(createPageNumber(i));
      }
    } else {
      // Always show the first page
      pageNumbers.appendChild(createPageNumber(1));

      if (currentPage > 3) {
        const dots = document.createElement("span");
        dots.textContent = "...";
        dots.style.margin = "0 5px";
        pageNumbers.appendChild(dots);
      }

      // Show middle pages dynamically
      let startPage, endPage;

      if (currentPage === 1) {
        startPage = 2;
        endPage = 3;
      } else if (currentPage === totalPages) {
        startPage = totalPages - 2;
        endPage = totalPages - 1;
      } else {
        startPage = Math.max(2, currentPage - 1);
        endPage = Math.min(totalPages - 1, currentPage + 1);
      }

      for (let i = startPage; i <= endPage; i++) {
        pageNumbers.appendChild(createPageNumber(i));
      }

      if (currentPage < totalPages - 2) {
        const dots = document.createElement("span");
        dots.textContent = "...";
        dots.style.margin = "0 5px";
        pageNumbers.appendChild(dots);
      }

      // Always show the last page
      pageNumbers.appendChild(createPageNumber(totalPages));
    }

    // Add Prev & Next buttons
    document.getElementById("prev-btn").disabled = currentPage === 1;
    document.getElementById("next-btn").disabled = currentPage === totalPages;
  }

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  function changePage(direction) {
    const totalPages = Math.ceil(data.length / rowsPerPage);
    if (direction === -1 && currentPage > 1) {
      currentPage--;
    } else if (direction === 1 && currentPage < totalPages) {
      currentPage++;
    }
    renderTable();
    scrollToTop();
  }

  renderTable();
});
